<!DOCTYPE html>
    <head>
        <!--jQuery References-->
        <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.17/jquery-ui.min.js" type="text/javascript"></script>
        <!--Wijmo Widgets JavaScript-->
        <script src="http://cdn.wijmo.com/jquery.wijmo-open.all.2.0.0.min.js" type="text/javascript"></script>
        <script src="http://cdn.wijmo.com/jquery.wijmo-complete.all.2.0.0.min.js" type="text/javascript"></script>
        <!--Theme-->
        <link href="http://cdn.wijmo.com/themes/metro/jquery-wijmo.css" rel="stylesheet" type="text/css" title="rocket-jqueryui" />
        <!--Wijmo Widgets CSS-->
        <link href="http://cdn.wijmo.com/jquery.wijmo-complete.all.2.0.0.min.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <style type="text/css">
            .wijmo-wijgrid
            {
                min-height: 100px;
            }
        </style>

        <div class="container">
            <div class="header">
                <h2>
                    Users list</h2>
            </div>
            <div class="userlist">
                <table id="tableUsers">
                </table>
            </div>
            <div class="userdetails">
                <hr>
                <label>ID: </label>
                <input type="text" id="inputUserId" name="inputUserId" title="Unique user number in company" required class="auto-style1" disabled="disabled" style="width: 61px"><br>
                <label>Fullname: </label>
                <input id="inputFullname" name="inputFullname" type="text" required><br>
                <label>Short name: </label>
                <input id="inputShortname" name="inputShortname" type="text" required><br>
                <label>Email: </label>
                <input id="inputEmail" name="inputEmail" type="text" required><br>
                <label>Login: </label>
                <input id="inputLogin" name="inputLogin" type="text" required><br>
                <label>Password: </label>
                <input id="inputPassword" name="inputPassword" type="text" disabled="disabled"><br>
                <label>User type: </label>
                <select id="inputUserType" name="inputUserType">
                    <option selected="">Regular</option>
                    <option>Super</option>
                </select><br>
                <label>Mobile number: </label>
                <input id="inputMobile" name="inputMobile" type="text"><br>
                <label>Status: </label>
                <select id="inputUserStatus" disabled="disabled" name="inputUserStatus">
                    <option selected="">Active</option>
                    <option>Disabled</option>
                    <option>Deleted</option>
                </select>
                <br>
				<input id="buttonAddUser" name="buttonAddUser" type="button" value="Add new user">
                <input id="buttonSave" name="buttonSave" type="button" value="Save changes">
                <input id="buttonNewPassword" name="buttonNewPassword" type="button" value="Generate new password">
                <input id="buttonDeactivate" name="buttonDeactivate" type="button" value="Deactive user">
                <input id="buttonDeleteUser" name="buttonDeleteUser" type="button" value="Delete user">
            </div>
        </div>

        <script id="scriptInit">
            $(document).ready(function () {
                $("#tableUsers").wijgrid({
                    data: new wijdatasource({
                        proxy: new wijhttpproxy({
                            url: "data/users.json",
                            dataType: "json",
                            data: {
                                featureClass: "P",
                                style: "full",
                                maxRows: 5
                            },
                            key: "users"
                        }),
                        reader: new wijarrayreader([
                            { name: "ID", mapping: "id" },
                            { name: "Name", mapping: "fullname" },
                            { name: "Short name", mapping: "name" },
                            { name: "Login", mapping: "login" },
                            { name: "Email", mapping: "email" },
                            { name: "Mobile number", mapping: "mobile" },
                            { name: "Type", mapping: "type" },
                            { name: "Status", mapping: "status" }
                        ])
                    }),
                    columns: [
                        { dataType: "number", dataFormatString: "n0" }],
                    selectionChanged: onSelectionChanged
                });

                function onSelectionChanged() {
                    console.log("onSelectionChanged");
                    var selectedRow = $("#tableUsers").wijgrid("selection").selectedCells();

                    $("#inputUserId").val(selectedRow.item(0).value().toString());
                    $("#inputFullname").val(selectedRow.item(1).value());
                    $("#inputShortname").val(selectedRow.item(2).value());
                    $("#inputLogin").val(selectedRow.item(3).value());
                    $("#inputEmail").val(selectedRow.item(4).value());
                    $("#inputMobile").val(selectedRow.item(5).value());
                    $("#inputUserType").val(selectedRow.item(6).value());
                    $("#inputUserStatus").val(selectedRow.item(7).value());
                }
            });
        </script>

    </body>
</html>
